<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PointsPlus Tracker</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>PointsPlus Tracker</h1>
    <div id="dateDisplay"></div>
  </header>

  <nav class="tabs">
    <button class="tab-btn active" data-tab="today">Today</button>
    <button class="tab-btn" data-tab="exercise">Exercise</button>
    <button class="tab-btn" data-tab="recipes">Recipes</button>
    <button class="tab-btn" data-tab="measurements">Measurements</button>
    <button class="tab-btn" data-tab="settings">Settings</button>
  </nav>

  <main>
    <!-- TODAY TAB -->
    <section id="today" class="tab active">
      <div class="cards">
        <div class="card">
          <h3>Daily</h3>
          <div class="stat"><span>Allowance:</span><strong id="dailyAllowance">0</strong></div>
          <div class="stat"><span>Used:</span><strong id="dailyUsed">0</strong></div>
          <div class="stat"><span>Remaining:</span><strong id="dailyRemaining">0</strong></div>
        </div>
        <div class="card">
          <h3>Weekly (incl. Rollovers)</h3>
          <div class="stat"><span>Allowance:</span><strong id="weeklyAllowance">0</strong></div>
          <div class="stat"><span>Used:</span><strong id="weeklyUsed">0</strong></div>
          <div class="stat"><span>Remaining:</span><strong id="weeklyRemaining">0</strong></div>
          <div class="stat"><span>Rollover Bank:</span><strong id="rolloverBank">0</strong></div>
        </div>
      </div>

      <div class="panel">
        <h3>Log Food</h3>
        <form id="foodForm">
          <input type="text" id="foodName" placeholder="Food name" required />
          <input type="number" id="foodPoints" placeholder="Points" min="0" step="0.5" required />
          <button type="submit">Add</button>
        </form>
        <ul id="foodList"></ul>
      </div>

      <div class="panel actions">
        <button id="endDayBtn">End Day & Rollover</button>
        <button id="undoLastBtn">Undo Last Item</button>
      </div>
    </section>

    <!-- EXERCISE TAB -->
    <section id="exercise" class="tab">
      <div class="panel">
        <h3>Log Exercise</h3>
        <form id="exerciseForm">
          <input type="text" id="exerciseName" placeholder="Activity" required />
          <input type="number" id="exercisePoints" placeholder="Points earned" min="0" step="0.5" required />
          <button type="submit">Add</button>
        </form>
        <ul id="exerciseList"></ul>
        <p class="hint">Exercise points add back to your daily remaining first, then weekly.</p>
      </div>
    </section>

    <!-- RECIPES TAB -->
    <section id="recipes" class="tab">
      <div class="panel">
        <h3>New Recipe</h3>
        <form id="recipeForm">
          <input type="text" id="recipeName" placeholder="Recipe name" required/>
          <input type="number" id="recipeServings" placeholder="Servings" min="1" step="1" required/>
          <div id="recipeItems"></div>
          <div class="row">
            <input type="text" id="ingredientName" placeholder="Ingredient name"/>
            <input type="number" id="ingredientPts" placeholder="Pts" min="0" step="0.5"/>
            <button type="button" id="addIngredientBtn">+ Ingredient</button>
          </div>
          <div class="row">
            <button type="submit">Save Recipe</button>
          </div>
        </form>
      </div>

      <div class="panel">
        <h3>Saved Recipes</h3>
        <ul id="recipeList"></ul>
      </div>
    </section>

    <!-- MEASUREMENTS TAB -->
    <section id="measurements" class="tab">
      <div class="panel">
        <h3>Add Measurement</h3>
        <form id="measureForm">
          <input type="date" id="measureDate" required/>
          <input type="number" id="measureWeight" placeholder="Weight" step="0.1"/>
          <input type="number" id="measureWaist" placeholder="Waist" step="0.1"/>
          <input type="number" id="measureHips" placeholder="Hips" step="0.1"/>
          <input type="number" id="measureChest" placeholder="Chest" step="0.1"/>
          <button type="submit">Save</button>
        </form>
      </div>
      <div class="panel">
        <h3>History</h3>
        <table id="measureTable">
          <thead><tr><th>Date</th><th>Weight</th><th>Waist</th><th>Hips</th><th>Chest</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- SETTINGS TAB -->
    <section id="settings" class="tab">
      <div class="panel">
        <h3>Allowances</h3>
        <form id="settingsForm">
          <label>Daily Points
            <input type="number" id="setDaily" min="0" step="1" required />
          </label>
          <label>Weekly Points
            <input type="number" id="setWeekly" min="0" step="1" required />
          </label>
          <button type="submit">Save</button>
        </form>
      </div>

      <div class="panel">
        <h3>Data</h3>
        <button id="resetDataBtn">Reset All Data</button>
        <button id="exportBtn">Export Backup</button>
        <input type="file" id="importFile" accept=".json" />
        <button id="importBtn">Import Backup</button>
      </div>
    </section>
  </main>

  <footer>
    <small>Local-only tool. Not affiliated with WWÂ®. Data saves in your browser.</small>
  </footer>

  <script src="script.js"></script>
</body>
</html>
