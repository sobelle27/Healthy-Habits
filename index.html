<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PointsPlus Tracker</title>
  <link rel="stylesheet" href="style.css?v5" />
</head>
<body>
  <header>
    <h1>PointsPlus Tracker</h1>
    <div id="dateDisplay"></div>
  </header>

  <nav class="tabs" role="tablist">
    <button class="tab-btn active" data-tab="today" role="tab" aria-selected="true">Today</button>
    <button class="tab-btn" data-tab="exercise" role="tab" aria-selected="false">Exercise</button>
    <button class="tab-btn" data-tab="recipes" role="tab" aria-selected="false">Recipes</button>
    <button class="tab-btn" data-tab="measurements" role="tab" aria-selected="false">Measurements</button>
    <button class="tab-btn" data-tab="settings" role="tab" aria-selected="false">Settings</button>
  </nav>

  <main>
    <!-- TODAY -->
    <section id="today" class="tab active" role="tabpanel">
      <div class="cards">
        <div class="card">
          <h3>Daily</h3>
          <div class="stat"><span>Allowance:</span><strong id="dailyAllowance">0</strong></div>
          <div class="stat"><span>Used:</span><strong id="dailyUsed">0</strong></div>
          <div class="stat"><span>Remaining:</span><strong id="dailyRemaining">0</strong></div>
        </div>
        <div class="card">
          <h3>Weekly (incl. Rollovers)</h3>
          <div class="stat"><span>Allowance:</span><strong id="weeklyAllowance">0</strong></div>
          <div class="stat"><span>Used:</span><strong id="weeklyUsed">0</strong></div>
          <div class="stat"><span>Remaining:</span><strong id="weeklyRemaining">0</strong></div>
          <div class="stat"><span>Rollover Bank:</span><strong id="rolloverBank">0</strong></div>
        </div>
      </div>

      <div class="panel">
        <h3>Log Food</h3>
        <form id="foodForm">
          <input type="text" id="foodName" placeholder="Food name" required />
          <input type="number" id="foodPoints" placeholder="Points" min="0" step="0.5" required />
          <button type="submit">Add</button>
        </form>
        <ul id="foodList"></ul>
      </div>

      <div class="panel actions">
        <button id="endDayBtn" type="button">End Day & Rollover</button>
        <button id="undoLastBtn" type="button">Undo Last Item</button>
      </div>
    </section>

    <!-- EXERCISE -->
    <section id="exercise" class="tab" role="tabpanel" aria-hidden="true">
      <div class="panel">
        <h3>Log Exercise</h3>
        <form id="exerciseForm">
          <input type="text" id="exerciseName" placeholder="Activity" required />
          <input type="number" id="exerciseMinutes" placeholder="Minutes" min="0" step="1" />
          <input type="number" id="exerciseReps" placeholder="Reps" min="0" step="1" />
          <input type="number" id="exerciseWeight" placeholder="Weight (lbs)" min="0" step="0.5" />
          <input type="number" id="exercisePoints" placeholder="Points earned" min="0" step="0.5" required />
          <button type="submit">Add</button>
        </form>
        <ul id="exerciseList"></ul>
        <p class="hint">Reps/weight/minutes are optional for your own record. Points you enter still feed your Daily/Weekly math.</p>
      </div>
    </section>

    <!-- RECIPES -->
    <section id="recipes" class="tab" role="tabpanel" aria-hidden="true">
      <div class="panel">
        <h3>New Recipe</h3>
        <form id="recipeForm">
          <input type="text" id="recipeName" placeholder="Recipe name" required/>
          <input type="number" id="recipeServings" placeholder="Servings" min="1" step="1" required/>
          <div id="recipeItems"></div>
          <div class="row">
            <input type="text" id="ingredientName" placeholder="Ingredient name"/>
            <input type="number" id="ingredientPts" placeholder="Pts" min="0" step="0.5"/>
            <button type="button" id="addIngredientBtn">+ Ingredient</button>
          </div>
          <div class="row">
            <button type="submit">Save Recipe</button>
          </div>
        </form>
      </div>

      <div class="panel">
        <h3>Saved Recipes</h3>
        <ul id="recipeList"></ul>
      </div>
    </section>

    <!-- MEASUREMENTS -->
    <section id="measurements" class="tab" role="tabpanel" aria-hidden="true">
      <div class="panel">
        <h3>Add Monthly Measurement</h3>
        <form id="measureForm" class="measure-form">
          <input type="month" id="measureMonth" required/>
          <input type="number" id="mWeight" placeholder="Weight" step="0.1"/>
          <input type="number" id="mNeck" placeholder="Neck" step="0.1"/>
          <input type="number" id="mBust" placeholder="Bust" step="0.1"/>
          <input type="number" id="mWaist" placeholder="Waist" step="0.1"/>
          <input type="number" id="mHips" placeholder="Hips" step="0.1"/>
          <input type="number" id="mButtocks" placeholder="Buttocks" step="0.1"/>
          <input type="number" id="mBicepsL" placeholder="Biceps L" step="0.1"/>
          <input type="number" id="mBicepsR" placeholder="Biceps R" step="0.1"/>
          <input type="number" id="mForearmL" placeholder="Forearm L" step="0.1"/>
          <input type="number" id="mForearmR" placeholder="Forearm R" step="0.1"/>
          <input type="number" id="mThighL" placeholder="Thigh L" step="0.1"/>
          <input type="number" id="mThighR" placeholder="Thigh R" step="0.1"/>
          <input type="number" id="mCalfL" placeholder="Calf L" step="0.1"/>
          <input type="number" id="mCalfR" placeholder="Calf R" step="0.1"/>
          <button type="submit">Save</button>
        </form>
      </div>
      <div class="panel">
        <h3>History</h3>
        <div class="table-wrap">
          <table id="measureTable">
            <thead>
              <tr>
                <th>Month</th><th>Weight</th><th>Neck</th><th>Bust</th><th>Waist</th><th>Hips</th><th>Buttocks</th>
                <th>Biceps L</th><th>Biceps R</th><th>Forearm L</th><th>Forearm R</th>
                <th>Thigh L</th><th>Thigh R</th><th>Calf L</th><th>Calf R</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <p class="hint">Swipe the table left/right on mobile.</p>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="settings" class="tab" role="tabpanel" aria-hidden="true">
      <div class="panel">
        <h3>Allowances</h3>
        <form id="settingsForm">
          <label>Daily Points
            <input type="number" id="setDaily" min="0" step="1" required />
          </label>
          <label>Weekly Points
            <input type="number" id="setWeekly" min="0" step="1" required />
          </label>
          <button type="submit">Save</button>
        </form>
      </div>

      <div class="panel">
        <h3>Data</h3>
        <button id="resetDataBtn" type="button">Reset All Data</button>
        <button id="exportBtn" type="button">Export Backup</button>
        <input type="file" id="importFile" accept=".json" />
        <button id="importBtn" type="button">Import Backup</button>
      </div>
    </section>
  </main>

  <footer>
    <small>Local-only tool. Not affiliated with WWÂ®. Data saves in your browser.</small>
  </footer>

  <script src="script.js?v5"></script>
</body>
</html>
